@using Blazored.FluentValidation;
@using LivingMessiah.Web.Pages.Sukkot.RegistrationEntry.HouseRulesAgreement
@using LivingMessiah.Web.SmartEnums

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<EditForm Model="VM"
					OnValidSubmit="HandleValidSubmit"
					class="card card-body bg-light mt-5">
	<FluentValidationValidator @ref="_fluentValidationValidator" DisableAssemblyScanning="@true" />
	<ValidationSummary />

	<div class="row mt-n2">

		<div class="col-sm-8">
			<div class="mb-3">
				<label for="familyName" class="control-label">Email</label>
				<InputText id="familyName" class="form-control" @bind-Value="VM!.EMail" />
				<ValidationMessage For="@(() => VM.EMail)" />
			</div>
		</div>

		<div class="col-sm-4">
			<div class="mt-4">
				<button class="btn btn-outline-success btn-sm">
					<i class="fas fa-save"></i> Add HRA Record
				</button>
			</div>
		</div>
	</div>

	<div class="row mt-2">
		<div class="col-sm-8">
			<p class="text-black-50"><b>HRA:</b> House Rules Agreement</p>
		</div>
		<div class="col-sm-4">
			<div @onclick="@(e => ShowAgreement())" class="@SuperUser.Constants.ShowAgreementButton.Color">
				<i class="@SuperUser.Constants.ShowAgreementButton.Icon"></i> @SuperUser.Constants.ShowAgreementButton.Text
			</div>
		</div>
	</div>

	@if (@State!.Value.MessageState != LivingMessiah.Web.Pages.Sukkot.RegistrationEntry.SuperUser.Enums.MessageState.Empty)
	{
		<div class="row mt-2">
			<div class="col-12">
				<p class="@State!.Value.MessageState!.Color">
					<b>@State!.Value.MessageState.Text</b>
				</p>
			</div>
		</div>
	}

</EditForm>