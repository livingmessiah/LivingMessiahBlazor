@page "/BlazorSyncFusion/DropDowns/DropDownList/SfDropDownListTemplate"
@using LivingMessiah.Web.Services
@inject ISmartEnumServiceForSfDropDownList svc

<SfDropDownList TItem="DropDownListVM" TValue="string" PopupHeight="230px"
								Placeholder="Select bible book..."
								@bind-Value="@SelectedValue" DataSource="@DataSource">
	<DropDownListEvents TItem="DropDownListVM" TValue="string" ValueChange="OnChange"></DropDownListEvents>
	<DropDownListFieldSettings Text="Text" Value="Value"></DropDownListFieldSettings>
</SfDropDownList>

@code {
	public string SelectedValue;
	public int SelectedId;

	protected List<DropDownListVM> DataSource => svc.GetBibleBooksVM().ToList(); 

	public void OnChange(Syncfusion.Blazor.DropDowns.ChangeEventArgs<string, DropDownListVM> args)
	{
		int i = int.TryParse(args.ItemData.Value, out i) ? i : 0;
		SelectedId = i;
	}
}
