@using Microsoft.Extensions.Logging;
@using CalendarEnumDateTypeFilter = LivingMessiah.Web.Pages.Calendar.Enums.DateTypeFilter

@* @inject ILogger<RefreshButtons>? Logger *@

<div class="d-print-none">
	<div class="d-flex justify-content-end">
		@foreach (var item in CalendarEnumDateTypeFilter
		.List
		.Where(w => w.Value > CalendarEnumDateTypeFilter.All.Value)
		.OrderBy(o => o.Value))
		{
			if (item == CurrentFilter)
			{
				<button @onclick="@(() => OnButtonClicked(item))"
								class="btn btn-warning btn">
					Refresh &nbsp;<i class="fas fa-sync"></i>
				</button>
			}
		}
	</div>
</div>

@code {
	[Parameter, EditorRequired]
	public required CalendarEnumDateTypeFilter? CurrentFilter { get; set; }

	[Parameter, EditorRequired]
	public EventCallback<CalendarEnumDateTypeFilter> OnRefreshSelected { get; set; }

	private void OnButtonClicked(CalendarEnumDateTypeFilter filter)
	{
		//Logger!.LogDebug(string.Format("Inside {0}; {1}, action: {2}", inside, nameof(OnButtonClicked), filter.Name));
		OnRefreshSelected.InvokeAsync(filter);
	}
}
