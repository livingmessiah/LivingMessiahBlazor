
<LoadingComponent IsLoading="ParashaListTuple==null || ParashaList==null || BibleBook==null ">

	<table class="table table-sm table-hover">
		<thead>
			<tr>
				<th>#</th>

				@if (!IsXsOrSm)
				{
					<th>Parasha</th>
					<th>Meaning</th>
				}

				<th>Read Date</th>
				<th>Torah</th>
				<th>Haftorah</th>
				<th>Brit Chadashah</th>
				<th><i class="fas fa-external-link-square-alt"></i></th>
			</tr>
		</thead>
		<tbody>

			@foreach (var item in ParashaList)
			{
				if (item.RowCntByBookId == 1)
				{
					if (BibleBook != null)
					{
						<tr>
							<td colspan="@Colspan">
								<a id="@BibleBook.EnglishTitle"></a>
								<span class="badge bg-danger">@BibleBook.EnglishTitle</span> &nbsp;
								<span class="text-muted"><i>@BibleBook.HebrewTitle</i></span>
								<span class="float-end hebrewchart">@((MarkupString)BibleBook.HebrewName)</span>
							</td>
						</tr>
					}
				}

				<tr>
					<td>@item.TriNum</td>

					@if (!IsXsOrSm)
					{
						<td>
							<a href="@MyHebrewBibleParashaUrl(@item.Id, @item.NameUrl)"><i>@item.ParashaName</i></a>
						</td>
						<td>@item.Meaning</td>
					}

					<td class="@CurrentReadDateTextFormat(item.ShabbatDate)">
						@if (item.ShabbatDate.Year != prevGregorianYear)
						{
							prevGregorianYear = item.ShabbatDate.Year;
							<span class="badge bg-danger">@item.ShabbatDate.Year</span><br />
						}
						@item.ShabbatDate.ToString("MMM d")
					</td>


					<td>@item.TorahLong</td>
					<td>@item.Haftorah</td>
					<td>@item.Brit</td>

					<td>
						<a href="@item.AhavtaURL"
							 title="Ahavta URL [@item.Id]" target="_blank">
							<i class="fas fa-external-link-alt"></i>
						</a>
					</td>
				</tr>

			}

		</tbody>

	</table>

</LoadingComponent>

@if (DatabaseError)
{
	<p class="text-danger"><em>@DatabaseErrorMsg</em></p>
}
else
{
	if (DatabaseWarning)
	{
		<p class="text-warning">@DatabaseWarningMsg</p>
	}
}